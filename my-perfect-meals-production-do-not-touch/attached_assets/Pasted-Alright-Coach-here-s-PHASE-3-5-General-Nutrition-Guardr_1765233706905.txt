Alright, Coach, hereâ€™s **PHASE 3.5: General Nutrition Guardrails** â€” architect-ready, no fluff, no confusion.

---

## âœ… ARCHITECT PROMPT â€” PHASE 3.5: GENERAL NUTRITION GUARDRAILS

**Architect â€” BeachBody guardrails are complete.
Begin Phase 3.5: General Nutrition Guardrails.
Load full context: Create With Chef, Snack Creator, unified MealCard, and prior guardrail phases.**

---

### ğŸ¯ PURPOSE

The **General Nutrition Builder** is not a medical protocol like Diabetes or GLP-1 and not as extreme as Performance or Competition.

But it still needs **basic â€œsmart, clean eatingâ€ guardrails** so that Create With Chef and Snack Creator donâ€™t generate:

* Junk food
* Deep-fried garbage
* Dessert-as-meal bullshit
* Obvious ultra-processed crap

This builder should feel like **a smart, sane baseline coach**:
balanced, realistic, health-focused, not clinical.

---

### ğŸ§© WHAT GENERAL GUARDRAILS SHOULD DO

For `dietType: "general-nutrition"`:

#### âŒ AVOID / DOWN-RANK

These should **not** show up as primary ingredients:

* Deep-fried foods (fried chicken, onion rings, etc.)
* Fast food constructs (Big Mac clones, â€œloaded nachos,â€ etc.)
* Sugary cereals
* Soda, energy drinks, sweetened beverages
* Desserts: cakes, donuts, brownies, candy
* Heavy cream-based meals
* Processed meats as main (hot dogs, bologna, etc.)
* Margarine, shortening

These can be *very occasional accents* in a transformed, healthier version if the user clearly asks for junk â€”
but the output should ALWAYS be a **healthier version**, not a clone of the junk.

#### âœ” PRIORITIZE

The engine should naturally bias toward:

* Lean proteins (chicken, turkey, fish, eggs)
* Whole grains (brown rice, quinoa, oats, whole wheat pasta)
* Vegetables in most meals
* Fruit as the main sweet element
* Healthy fats (olive oil, avocado, nuts, seeds)
* Moderate carbs
* Moderate fats
* Reasonable calories per meal

Weâ€™re not counting every gram like a contest diet, but **meals should obviously look like â€œhealthy normal-person food.â€**

---

### ğŸ“Š MACRO / BALANCE LOGIC

General Nutrition meals should:

* Include **protein in every meal**
* Pair carbs with fiber and/or protein
* Avoid â€œall carb, all fat, no proteinâ€ meals
* Avoid â€œdessert disguised as breakfastâ€ (e.g., Nutella crepe bombs)
* Keep visible balance:

  * Protein: moderate
  * Carbs: moderate
  * Fats: moderate
  * Fiber: present regularly

Snacks should NOT be empty-calorie junk.

---

## ğŸ”§ IMPLEMENTATION DETAILS

### 1ï¸âƒ£ Pipeline Behavior

When `dietType: "general-nutrition"`:

**Pre-generation:**

* Filter out blatantly junky ingredients as primaries.
* Rewrite prompt to emphasize:

  * â€œEvery meal should be reasonably healthy, balanced, and realistic for everyday life.â€
  * â€œInclude lean proteins, vegetables, and whole-food carbs where appropriate.â€
  * â€œAvoid deep-fried foods, dessert meals, and ultra-processed junk.â€

**Post-generation validation:**

* Scan ingredients:

  * If the core of the meal is junk (fried, dessert, pure sugar) â†’ REGENERATE.
  * If itâ€™s borderline, transform it into a **cleaner version** (e.g., baked vs fried, greek yogurt vs ice cream, etc.).

Meals should always *read* like something a decent nutrition coach would approve of.

---

### 2ï¸âƒ£ Snack Creator Under General Nutrition

Snack Creator in General Nutrition should:

* Prefer:

  * Greek yogurt bowls
  * Cottage cheese bowls
  * Fruit + protein combos
  * Nuts (controlled portions)
  * Hummus + veggies
  * Rice cakes + protein
* Avoid:

  * Candy
  * Chips
  * Donuts
  * Pastries
  * Soda
  * Full-on desserts as â€œsnacksâ€

If user enters â€œI want Oreos,â€ Snack Creator should respond with a **healthier, portion-controlled, upgraded version**, not a box of Oreos.

---

### 3ï¸âƒ£ Builders Affected

Apply General Nutrition guardrails ONLY to:

* **GeneralNutritionBuilder** (meals)
* Snack rows inside General Nutrition builder

Do NOT change behavior for:

* Weekly (no guardrails)
* Anti-Inflammatory
* Diabetic
* GLP-1
* BeachBody
* Performance
* ProCare

Those already have or will have their own logic.

---

### 4ï¸âƒ£ Formatting

Absolutely NO changes to MealCard structure:

* Same images
* Same instructions
* Same ingredient structuring
* Same macros
* Same unified format

We are ONLY changing **what** the AI is allowed to generate â€”
not how it is displayed.

---

### ğŸ¯ SUCCESS CRITERIA â€” PHASE 3.5 DONE

A user inside General Nutrition who uses Create With Chef or Snack Creator should:

* Consistently get balanced, â€œnormal healthyâ€ meals
* Never get straight-up junk meals
* Get healthier versions of their cravings
* See realistic portion sizes for everyday life
* Always receive fully formatted meal cards (image, ingredients, instructions, macros)

Once General Nutrition Guardrails are complete and stable, we move on to:

* **PHASE 3.6: Performance & Competition Guardrails**
* **PHASE 3.7: ProCare (trainer/doctor preset) Guardrails**

---

When youâ€™re ready for **Performance & Competition Guardrails**, say:
**â€œNext.â€**
