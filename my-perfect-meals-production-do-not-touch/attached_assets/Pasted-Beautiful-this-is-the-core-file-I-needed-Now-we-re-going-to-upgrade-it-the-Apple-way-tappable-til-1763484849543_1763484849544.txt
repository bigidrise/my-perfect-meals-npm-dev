Beautiful, this is the core file I needed. Now we‚Äôre going to upgrade it the Apple way: tappable tiles in a small prep modal that appears immediately when they tap eggs/steak/chicken/etc.

I‚Äôll walk through what‚Äôs changing, then give you a ready-to-paste Replit prompt.

1Ô∏è‚É£ What we‚Äôre changing in MealIngredientPicker

Right now this file:

Lets users select ingredients ‚úÖ

Has a COOKING_STYLE_ENABLED map (eggs + steak only) ‚úÖ

Stores styles in cookingStyles ‚úÖ

Shows the cooking-style <select> down near the bottom ‚ùå

Requires scrolling to see it ‚ùå

Does not pop anything immediately when they tap an ingredient ‚ùå

We‚Äôre going to:

Keep cookingStyles and COOKING_STYLE_ENABLED (but expand it).

Stop rendering the inline dropdown section at the bottom.

Add a new ‚ÄúPreparation Modal‚Äù using <Dialog> with tiles/buttons instead of a <select>.

Trigger that modal immediately when the user taps an ingredient that has preparation options (eggs, steak, chicken, potatoes, veggies, etc.).

On confirm: store the style in cookingStyles and add the ingredient to selectedIngredients.

No styling overhaul. All black-glass vibes stay.

2Ô∏è‚É£ Code Changes (Conceptual)
A. Add state for the prep modal

At the top of the component, under cookingStyles:

// Which ingredient we are currently setting a preparation style for
const [prepModalIngredient, setPrepModalIngredient] = useState<string | null>(null);

// Which style is currently selected inside the modal
const [prepModalStyle, setPrepModalStyle] = useState<string>("");

B. Expand COOKING_STYLE_ENABLED

Right now it‚Äôs only eggs + a TON of steaks. We keep that and add more:

const COOKING_STYLE_ENABLED: Record<string, string[]> = {
  // Eggs
  "Eggs": ["Scrambled", "Sunny Side Up", "Omelet", "Poached", "Hard Boiled"],
  "Egg Whites": ["Scrambled", "Omelet", "Poached", "Hard Boiled"],
  "Whole Eggs": ["Scrambled", "Sunny Side Up", "Omelet", "Poached", "Hard Boiled"],

  // Generic steak label
  "Steak": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],

  // Common steak cuts (existing ones you already had)
  "Sirloin Steak": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "Top Sirloin": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "Ribeye": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "Ribeye Steak": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "New York Strip": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "NY Strip": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "Strip Steak": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "Filet Mignon": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "Tenderloin Steak": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "Porterhouse": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "Porterhouse Steak": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "T-Bone": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "T-Bone Steak": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "TBone Steak": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "Skirt Steak": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "Flank Steak": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "Flat Iron Steak": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "Tri-Tip": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "Tri-Tip Steak": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "Hanger Steak": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],

  // Premium / branded beef
  "Kobe Steak": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "Kobe Beef": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "Wagyu Steak": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],
  "Wagyu Beef": ["Rare", "Medium Rare", "Medium", "Medium Well", "Well Done"],

  // Chicken
  "Chicken Breast": ["Grilled", "Grilled (BBQ)", "Grilled (Lemon Pepper)", "Teriyaki", "Pan-Seared", "Air-Fried", "Baked"],
  "Chicken Thighs": ["Grilled", "Baked", "Pan-Seared", "Air-Fried"],
  "Ground Chicken": ["Pan-Seared", "Crumbled & Seasoned"],

  // Turkey
  "Turkey Breast": ["Grilled", "Pan-Seared", "Lemon Pepper", "Taco-Seasoned", "Air-Fried"],
  "Ground Turkey": ["Pan-Seared", "Taco-Seasoned"],
  "Turkey Sausage": ["Pan-Seared", "Air-Fried"],

  // Fish
  "Salmon": ["Grilled", "Baked", "Pan-Seared", "Air-Fried"],
  "Tilapia": ["Grilled", "Baked", "Pan-Seared", "Air-Fried"],
  "Cod": ["Baked", "Pan-Seared"],
  "Tuna Steak": ["Grilled", "Pan-Seared", "Raw (Sushi-Grade)"],

  // Potatoes
  "Potatoes": ["Hash Browns", "Home Style (Diced)", "Roasted Cubes", "Air-Fried", "Mashed", "Baked"],
  "Red Potatoes": ["Roasted Cubes", "Air-Fried", "Boiled"],
  "Sweet Potato": ["Baked", "Mashed", "Roasted Cubes", "Air-Fried"],
  "Yam": ["Baked", "Mashed", "Roasted Cubes"],

  // Vegetables
  "Broccoli": ["Steamed", "Saut√©ed", "Roasted", "Air-Fried", "Seasoned"],
  "Asparagus": ["Steamed", "Grilled", "Roasted"],
  "Green Beans": ["Steamed", "Saut√©ed", "Seasoned"],
  "Mixed Vegetables": ["Steamed", "Saut√©ed", "Seasoned"],

  // Salads / greens
  "Romaine Lettuce": ["Garden Salad", "Caesar Style (Light)", "Cobb Style", "Greek Style", "Simple Salad (Olive Oil + Lemon)"],
  "Spring Mix": ["Garden Salad", "Cobb Style", "Simple Salad (Olive Oil + Lemon)"],
  "Spinach": ["Steamed", "Saut√©ed", "Salad Style"],

  // Raw veggies
  "Carrots": ["Raw", "Sliced", "Julienned", "Seasoned (Salt/Lemon)"],
  "Celery": ["Raw", "Sticks"],
  "Cucumber": ["Raw", "Sliced", "Seasoned (Salt/Lemon)"],
};


(Your dev/agent can tweak names to match the exact keys in mealIngredients.)

C. Change ingredient click behavior to open modal for those items

Right now, in the ingredient grid:

onClick={() => toggleIngredient(ingredientName)}


We replace this with a smarter handler:

const handleIngredientClick = (ingredientName: string) => {
  const options = COOKING_STYLE_ENABLED[ingredientName];

  // If this ingredient has preparation options ‚Üí open modal
  if (options && options.length > 0) {
    setPrepModalIngredient(ingredientName);
    // Preselect existing style if already chosen, else first option
    setPrepModalStyle(
      (prev => prev)[ingredientName] || options[0]
    );
    return;
  }

  // Otherwise fall back to normal toggle behavior
  setSelectedIngredients(prev =>
    prev.includes(ingredientName)
      ? prev.filter(i => i !== ingredientName)
      : [...prev, ingredientName]
  );
};


Then in the grid JSX:

<div
  key={`${activeCategory}-${ingredientName}-${index}`}
  onClick={() => handleIngredientClick(ingredientName)}
  className="flex flex-col items-center gap-0.5 text-white/90 hover:text-white group p-1 min-h-[44px] cursor-pointer"
>
  <Checkbox
    checked={isSelected}
    onCheckedChange={() => handleIngredientClick(ingredientName)}
    className="h-1.5 w-1.5 border-white/30 data-[state=checked]:bg-emerald-600 data-[state=checked]:border-emerald-500 pointer-events-none"
  />
  <span className="text-[11px] group-hover:text-emerald-300 transition-colors text-center">
    {ingredientName}
  </span>
</div>

D. Remove the old inline cooking-style section

Delete this block entirely:

{/* üî•üî•üî• ADDED: Cooking Styles UI */}
{selectedIngredients.length > 0 && (
  <div className="space-y-3 mb-4">
    {selectedIngredients.map((ingredient) => {
      const options = COOKING_STYLE_ENABLED[ingredient];
      if (!options) return null;

      return (
        <div 
          key={ingredient}
          className="p-3 bg-black/30 border border-white/10 rounded-lg"
        >
          <p className="text-white text-xs font-semibold mb-1">
            {ingredient}
          </p>

          <select
            value={cookingStyles[ingredient] || ""}
            onChange={(e) =>
              setCookingStyles((prev) => ({
                ...prev,
                [ingredient]: e.target.value
              }))
            }
            className="w-full bg-black/50 text-white text-xs border border-white/20 rounded-md px-2 py-1"
          >
            <option value="">Select cooking style</option>
            {options.map((style) => (
              <option key={style} value={style}>
                {style}
              </option>
            ))}
          </select>
        </div>
      );
    })}
  </div>
)}


We‚Äôre replacing it with a modal.

E. Add the new Preparation Modal at the bottom of the component

Just before the closing </> of the component, add:

{/* Preparation Modal ‚Äî opens when an ingredient with cooking styles is tapped */}
<Dialog
  open={!!prepModalIngredient}
  onOpenChange={(isOpen) => {
    if (!isOpen) {
      setPrepModalIngredient(null);
      setPrepModalStyle("");
    }
  }}
>
  <DialogContent className="bg-black/70 backdrop-blur-xl border border-white/20 rounded-2xl max-w-sm">
    <DialogHeader>
      <DialogTitle className="text-white text-base">
        Select Cooking Style
      </DialogTitle>
      <DialogDescription className="text-white/60 text-xs">
        {prepModalIngredient
          ? `How do you want your ${prepModalIngredient.toLowerCase()} prepared?`
          : ""}
      </DialogDescription>
    </DialogHeader>

    {prepModalIngredient && (
      <div className="mt-3 space-y-2">
        <div className="grid grid-cols-2 gap-2">
          {COOKING_STYLE_ENABLED[prepModalIngredient]?.map((style) => (
            <button
              key={style}
              type="button"
              onClick={() => setPrepModalStyle(style)}
              className={`px-2 py-2 rounded-xl text-xs font-semibold border transition-all 
                ${
                  prepModalStyle === style
                    ? "bg-emerald-600/70 border-emerald-400 text-white shadow-lg"
                    : "bg-black/50 border-white/20 text-white/80 hover:bg-white/10"
                }`}
            >
              {style}
            </button>
          ))}
        </div>
      </div>
    )}

    <div className="mt-4 flex justify-end gap-2">
      <Button
        variant="outline"
        onClick={() => {
          setPrepModalIngredient(null);
          setPrepModalStyle("");
        }}
        className="bg-black/40 border-white/20 text-white hover:bg-white/10"
      >
        Cancel
      </Button>
      <Button
        disabled={!prepModalIngredient || !prepModalStyle}
        onClick={() => {
          if (!prepModalIngredient || !prepModalStyle) return;
          // Save style for that ingredient
          setCookingStyles((prev) => ({
            ...prev,
            [prepModalIngredient]: prepModalStyle,
          }));
          // Ensure ingredient is selected
          setSelectedIngredients((prev) =>
            prev.includes(prepModalIngredient)
              ? prev
              : [...prev, prepModalIngredient]
          );
          // Close modal
          setPrepModalIngredient(null);
          setPrepModalStyle("");
        }}
        className="bg-emerald-600 hover:bg-emerald-700 text-white"
      >
        Use This Style
      </Button>
    </div>
  </DialogContent>
</Dialog>


This uses tiles/buttons (Option B) inside your same black-glass aesthetic. Very Apple.

Your existing handleGenerateMeal logic already respects cookingStyles, so this will flow directly into the API payload:

const allIngredientsWithStyles = allIngredients.map((name) => {
  const style = cookingStyles[name];
  if (!style) return name;

  // Eggs formatting
  if (name.toLowerCase().includes("egg")) {
    return `${style} ${name.toLowerCase() === "eggs" ? "eggs" : name}`;
  }

  // Steaks formatting
  return `${name} (${style})`;
});


We can later expand that for chicken, veggies, etc., but the plumbing is already correct.

3Ô∏è‚É£ Replit Agent Prompt (ready to paste)

Here‚Äôs exactly what you can hand to the Replit assistant:

PROMPT FOR ASSISTANT:

File to edit:
client/src/components/MealIngredientPicker.tsx

Goal: Update the AI Meal Creator ingredient picker so that:

When a user taps ingredients like eggs, steak, chicken, potatoes, veggies, etc., a preparation modal pops up immediately.

The modal uses tappable tiles/buttons (not a dropdown) to select cooking style.

The selected style is saved into cookingStyles and applied in handleGenerateMeal.

The existing inline cooking-style dropdown at the bottom is removed.

The UI style remains black-glass and consistent with the rest of the app.

Do NOT:

Change any colors, fonts, or layout outside this file.

Change macro targeting behavior.

Change the main dialog structure or the info modal behavior.

1. Add new modal state

In MealIngredientPicker, right after the existing cookingStyles state, add:

const [prepModalIngredient, setPrepModalIngredient] = useState<string | null>(null);
const [prepModalStyle, setPrepModalStyle] = useState<string>("");

2. Expand COOKING_STYLE_ENABLED

Replace the current COOKING_STYLE_ENABLED object with the extended version below (keep the eggs and steak entries and add the new chicken/turkey/fish/potato/veggie/salad entries):

[PASTE THE EXPANDED COOKING_STYLE_ENABLED OBJECT FROM ABOVE]

3. Add a new handleIngredientClick helper

Above the JSX return, add:

const handleIngredientClick = (ingredientName: string) => {
  const options = COOKING_STYLE_ENABLED[ingredientName];

  if (options && options.length > 0) {
    setPrepModalIngredient(ingredientName);
    setPrepModalStyle(
      cookingStyles[ingredientName] || options[0]
    );
    return;
  }

  setSelectedIngredients(prev =>
    prev.includes(ingredientName)
      ? prev.filter(i => i !== ingredientName)
      : [...prev, ingredientName]
  );
};

4. Wire ingredient tiles and checkboxes to use handleIngredientClick

In the ingredient grid mapping, change the tile onClick and the Checkbox onCheckedChange to call handleIngredientClick(ingredientName) instead of toggleIngredient. Keep Checkbox as pointer-events-none so the parent div handles the click.

5. Remove the old inline Cooking Styles UI block

Delete this block:

{selectedIngredients.length > 0 && (
  <div className="space-y-3 mb-4">
    {selectedIngredients.map((ingredient) => {
      const options = COOKING_STYLE_ENABLED[ingredient];
      if (!options) return null;
      return (
        <div key={ingredient} ...>
          ...
          <select ...>...</select>
        </div>
      );
    })}
  </div>
)}

6. Add a new Preparation Modal

Just before the closing </> of the component, add this dialog:

[PASTE THE PREPARATION MODAL DIALOG FROM ABOVE]

7. Keep handleGenerateMeal logic the same

It should continue to use cookingStyles to rewrite ingredient names. No changes needed there.

When you‚Äôre done, confirm:

That tapping ‚ÄúEggs‚Äù, ‚ÄúSteak‚Äù, ‚ÄúChicken Breast‚Äù, etc. opens the prep modal immediately.

That selecting a style and hitting ‚ÄúUse This Style‚Äù selects the ingredient and closes the modal.

That other ingredients with no prep options still toggle selection normally.

That the old inline dropdown section is fully gone and no longer requires scrolling.