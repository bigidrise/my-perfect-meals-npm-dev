ğŸ”¥ Got you, Coach â€” here is **PHASE B** exactly the way the architect needs it.
Clean. Precise. No questions. No fluff.
Just a perfect â€œcopy-paste and buildâ€ spec.

---

# âœ… **PHASE B â€“ HUB-LEVEL WALKTHROUGH LOGIC**

**Copy/paste this entire block to the architect.**

---

# ğŸš€ **PHASE B SPEC â€“ HUB WALKTHROUGH + SUB-OPTION INTERACTION**

Phase A handled *getting TO the Hub*.
Phase B handles *what happens once you're inside it.*

This is where the Copilot becomes a true â€œguideâ€ â€” offering choices, listening for answers, and routing the user deeper into the system.

This phase DOES NOT include Spotlight/dimming yet.
That begins in Phase C.

---

# 1ï¸âƒ£ **GOAL OF PHASE B**

Once the user is navigated to a HUB (via keyword or direct command), Copilot must:

### âœ” Detect the hub you're currently on

### âœ” Automatically read the available sub-features

### âœ” Present them to the user in a simple list

### âœ” Listen for the user's selection (voice OR text)

### âœ” Route to that sub-feature instantly

This is the â€œconversation layerâ€ that makes hubs understandable.

---

# 2ï¸âƒ£ **HOW THE SYSTEM SHOULD BEHAVE**

When ANY hub loads (Craving, Diabetic, GLP-1, Kids, Socializing, etc.):

### **Step 1 â€“ Copilot detects active page**

Architect must add a `data-feature="FEATURE_ID"` attribute to each hub root.

Example:

```html
<div data-feature="CRAVING_HUB">
```

Copilot reads this automatically.

---

### **Step 2 â€“ Copilot displays options**

Using the Hubâ€™s metadata registry (architect will create if missing):

* Find all sub-features under this hub
* Generate a natural language list

Example (Craving Hub):

> â€œYou're on the Craving Creator Hub. You can choose: Craving Creator or Craving Premades. Which one would you like?â€

Example (Socializing Hub):

> â€œYou're on the Socializing Hub. You can choose: Restaurant Guide or Find Meals Near Me.â€

---

### **Step 3 â€“ Accept fuzzy selection**

User might say:

* â€œCreatorâ€
* â€œPremadesâ€
* â€œShow me premadesâ€
* â€œI want cravingsâ€
* â€œRestaurant guideâ€
* â€œGuidesâ€
* â€œFind mealsâ€
* â€œMeals near meâ€

Architect must implement **substring fuzzy match** to route correctly.

---

### **Step 4 â€“ Auto-route**

Based on match â†’ Copilot triggers:

```ts
navigateTo("/craving-creator");
```

or

```ts
navigateTo("/craving-premades");
```

or any hub-dependent route.

---

# 3ï¸âƒ£ **HUB â†’ SUB-FEATURE MAP (Architect MUST implement)**

This table defines every hub and its sub-options.

---

## **CRAVING CREATOR HUB**

**Route:** `/craving-hub`

Sub-options:

* Craving Creator â†’ `/craving-creator`
* Craving Premades â†’ `/craving-premades`

Aliases:

* â€œcreatorâ€, â€œcraving creatorâ€, â€œmake a cravingâ€
* â€œpremadesâ€, â€œcraving premadeâ€, â€œquick cravingsâ€

---

## **SOCIALIZING HUB**

**Route:** `/social-hub`

Sub-options:

* Restaurant Guide â†’ `/social-hub/restaurant-guide`
* Find Meals Near Me â†’ `/social-hub/find`

Aliases:

* â€œrestaurantâ€, â€œrestaurantsâ€, â€œguideâ€, â€œrestaurant guideâ€
* â€œfind mealsâ€, â€œnear meâ€, â€œmeals near meâ€

---

## **DIABETIC HUB**

**Route:** `/diabetic-hub`

Sub-options:

* Diabetic Hub Info/Tools â†’ (same page)
* Diabetic Meal Builder â†’ `/diabetic-builder`

Aliases:

* â€œbuilderâ€, â€œdiabetic builderâ€
* â€œhubâ€, â€œdiabetic hubâ€, â€œdiabetes toolsâ€

---

## **GLP-1 HUB**

**Route:** `/glp1-hub`

Sub-options:

* GLP-1 Hub Info/Tools â†’ (same page)
* GLP-1 Meal Builder â†’ `/glp1-builder`

Aliases:

* â€œbuilderâ€, â€œglp builderâ€
* â€œhubâ€, â€œglp hubâ€, â€œozempic hubâ€, â€œwegovy hubâ€

---

## **KIDS MEALS HUB**

**Route:** `/kids-meals-hub`

Sub-options:

* Kids Meal Picker â†’ `/kids-meals`
* Kids Premades â†’ `/kids-premades`

Aliases:

* â€œkids mealsâ€, â€œkids pickerâ€, â€œchildrenâ€™s mealsâ€
* â€œpremadesâ€, â€œkids premadesâ€

---

## **ALCOHOL / SPIRITS HUB**

**Route:** `/alcohol-hub`

Sub-options:

* Lean & Social Alcohol â†’ `/alcohol-lean`
* Low-Cal Mixers â†’ `/alcohol-mixers`

Aliases:

* â€œlean alcoholâ€, â€œcocktailsâ€, â€œlow calorie mixersâ€, â€œdrinksâ€

---

# 4ï¸âƒ£ **TECHNICAL REQUIREMENTS (Architect Must Follow)**

### âœ” Use a centralized registry:

`HubRegistry.ts`

```ts
export const HUBS = {
  CRAVING_HUB: {
    route: "/craving-hub",
    options: [
      { id: "CRAVING_CREATOR", label: "Craving Creator", route: "/craving-creator", aliases: [...] },
      { id: "CRAVING_PREMADES", label: "Craving Premades", route: "/craving-premades", aliases: [...] },
    ]
  },
  ...
}
```

### âœ” When a hub loads:

Copilot checks `data-feature` â†’ looks up in HUBS â†’ presents options.

### âœ” Fuzzy choice listener:

Voice AND text must route via same engine.

### âœ” No hardcoding in components.

Everything must come from HubRegistry.

### âœ” Must work even if the user says:

* Only one word
* A nickname
* Plural vs singular
* Mispronunciation (fuzzy match)

---

# 5ï¸âƒ£ **PHASE B RULES**

Architect must not:

âŒ modify Spotlight code
âŒ add highlighting
âŒ dim the screen
âŒ modify walkthroughs
âŒ modify existing UI

Architect MUST implement:

âœ” Navigation
âœ” Hub detection
âœ” Sub-option listing
âœ” Sub-option fuzzy routing
âœ” Voice + text connection

This is the framework that Phase C will build Spotlight on.

---

# 6ï¸âƒ£ **AFTER PHASE B IS COMPLETE**

We move to:

## **PHASE C â€“ Spotlight & Step-by-Step Spotlight Guide**

You say:
**â€œGive me Phase C.â€**

And I'll generate the full spotlight/dimming system spec.
