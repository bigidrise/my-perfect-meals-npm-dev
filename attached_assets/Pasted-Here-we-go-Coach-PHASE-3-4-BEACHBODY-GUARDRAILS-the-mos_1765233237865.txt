Here we go, Coach ‚Äî **PHASE 3.4: BEACHBODY GUARDRAILS** ‚Äî the most *dynamic*, *phase-dependent*, and *body-recomposition-focused* builder you have.

This prompt will give the architect **the exact rules, macros, restrictions, substitutions, and behavioral logic** needed so Create With Chef + Snack Creator generate ONLY meals that match BeachBody/Body Physique protocol.

This is the **competition-lite builder**, but NOT as strict as full Performance mode.
You nailed the order ‚Äî THIS is exactly where it belongs.

Let‚Äôs lock this in cleanly.

---

# ‚úÖ **ARCHITECT PROMPT ‚Äî PHASE 3.4: BEACHBODY GUARDRAILS**

**Architect ‚Äî GLP-1 Guardrails are complete.
Begin Phase 3.4: BeachBody Guardrails.
Load full context: Create With Chef, Snack Creator, unified MealCard system, and previous guardrail phases.**

---

# üéØ **WHY WE ARE DOING THIS (High-Level)**

BeachBody (Body Physique) users follow **lean physique / recomposition rules** that differ from:

* Medical diets
* Performance diets
* Anti-inflammatory diets
* GLP-1 diets

BeachBody users need:

* Meals optimized for aesthetics
* Body-fat reduction
* Lean mass retention
* Tight macro control
* Phase-specific dietary patterns
* Fat-limited cooking
* High protein
* Moderated carbs
* Clean ingredients
* Zero ‚Äúdiet spoilers‚Äù

**AI meals MUST match the BeachBody philosophy and macros of the active phase.**

This is a lifestyle physique program ‚Äî NOT general fitness and NOT competition prep.

---

# üî• **THE BEACHBODY GUARDRAIL SYSTEM**

BeachBody is **PHASE-DEPENDENT**, meaning each user may be in one of several phases:

* PHASE 1: Leaning / Fat Loss
* PHASE 2: Carb Control
* PHASE 3: Balance / Maintenance
* PHASE 4: Muscle Sculpt (mild bulk)

The architect must detect the active phase via:

```
dietType: "beachbody"
dietPhase: "lean" | "carb-control" | "maintenance" | "sculpt"
```

These values already exist inside the builder state ‚Äî the architect must pass them into the generation request.

---

# üß© **PHASE-BY-PHASE GUARDRAIL LOGIC**

---

## **PHASE 1 ‚Äî Lean / Fat Loss**

Goal: **Lose fat while maintaining muscle**

### ‚ùå Avoid

* Fried foods
* High-calorie sauces
* Cheese-heavy dishes
* Cream sauces
* Pasta (unless protein pasta)
* White rice
* High-fat meats
* Added sugars
* Butter

### ‚úî Prefer

* Lean proteins (chicken, turkey, egg whites, fish)
* Moderate carbs
* High vegetables
* Minimal oils
* Air-fry, grill, roast, steam
* Protein wraps, lettuce wraps
* Cauliflower rice, quinoa (limited), sweet potato (very small)

### Macro Target

* **High protein**
* **Low fat**
* **Moderate carbs**
* Calorie density controlled

---

## **PHASE 2 ‚Äî Carb-Control Phase**

Goal: **Reset insulin sensitivity / accelerate fat loss**

### ‚ùå Avoid

* Bread
* Pasta
* Rice
* Tortillas
* Potatoes
* Sugary fruits (banana, mango, pineapple)

### ‚úî Prefer

* Lean meats
* Low-carb vegetables
* Cauliflower rice
* Zucchini noodles
* High-protein wraps
* Berries only

### Macro Target

* **High protein**
* **Lower carbs**
* **Moderate fats**

Meals should look **keto-adjacent but not deep keto**.

---

## **PHASE 3 ‚Äî Balance / Maintenance**

Goal: **Sustain look, sustainable routines**

### ‚úî Wider flexibility allowed

### ‚ùå Still no junk foods

Macros:

* Balanced: protein / carbs / fats
* Clean whole ingredients

### ‚úî Include

* Brown rice
* Quinoa
* Whole-wheat pasta
* Sweet potatoes
* Fruit
* Lean meats

### ‚ùå Avoid

* Creamy foods
* Heavy desserts
* Excess cheese
* Fried foods

---

## **PHASE 4 ‚Äî Muscle Sculpt / Mild Bulk**

Goal: **Increase lean mass with clean, controlled calories**

### ‚úî Prefer

* Higher carbs
* Higher calories
* Lean proteins
* Clean carbs: oats, sweet potato, brown rice, quinoa, fruit

### ‚ùå Avoid

* Ultra-processed foods
* Heavy sugars
* Fat bombs
* Greasy foods

Macros:

* **High protein**
* **Higher carbs**
* **Moderate fats**
* Portion sizes larger

---

# üîß **HOW TO IMPLEMENT (Architect Instructions)**

## **1Ô∏è‚É£ Add Phase-Aware Guardrails to Generation Pipeline**

When:

```
dietType: "beachbody"
dietPhase: "<phase>"
```

The system must:

### Pre-filter ingredients

Remove all foods forbidden for that phase.

### Rewrite the AI generation prompt to enforce:

* Proper macro ratios
* Proper volume
* Proper ingredient sets
* Proper substitutions
* Proper cooking methods

### Validate post-generation

Reject and regenerate meals that violate:

* Fat limits (phases 1 & 2)
* Carbs limits (phase 2)
* Calorie limits (phase 1)
* Ingredient rules (all)
* Portion sizes

---

## **2Ô∏è‚É£ MealCard Output Must Remain EXACTLY THE SAME**

NO formatting changes.

Meals must include:

* DALL-E image
* Expanded ingredients
* Precise macros
* Clear instructions
* Correct serving size
* Perfect MealCard structure

---

## **3Ô∏è‚É£ Snack Creator Guardrails**

Snack Creator MUST enforce BeachBody rules.

### Snacks Allowed:

* Greek yogurt
* Cottage cheese
* Protein shakes
* Small fruit (berries, apple)
* Rice cakes (phase 3‚Äì4)
* Low-carb snacks (phase 2)
* High-protein snacks (phase 1 & 2)

### Snacks NOT allowed:

* Cookies
* Candy
* Chips
* Granola bars
* Fat-heavy snacks
* Bakery items
* Creamy treats

Snacks must ALWAYS match the active phase.

---

## **4Ô∏è‚É£ Affected Builders**

Apply BeachBody Guardrails ONLY to:

* **BeachBodyMealBoard** (meals)
* All snack rows inside BeachBody builder

Do NOT apply to:

* Weekly
* General Nutrition
* Anti-inflammatory
* Diabetic
* GLP-1
* Performance
* ProCare

Those are separate guardrail phases.

---

# üéØ **SUCCESS CRITERIA ‚Äî Phase 3.4 Completion Requirements**

A BeachBody user must receive meals/snacks that:

### ‚úî Match the active phase rules

### ‚úî Never include restricted ingredients

### ‚úî Support fat loss / recomposition / sculpting

### ‚úî Use correct macro patterns

### ‚úî Reflect portion guidelines

### ‚úî Generate full, complete meal cards

### ‚úî Never violate BeachBody dietary philosophy

Once implemented, we move on to **PHASE 3.5 ‚Äî General Nutrition Guardrails.**

---

# üèÅ **Architect ‚Äî begin Phase 3.4 now and confirm when BeachBody guardrails are active for both meals and snacks.**

---

Coach ‚Äî when you're ready for **PHASE 3.5 (General Nutrition)**, just say:

**‚ÄúNext.‚Äù**
