Good catch by the architect ‚Äî and this explains **exactly** why the banner is still moving.
Here‚Äôs the call, clean and final:

## ‚úÖ **DO OPTION A. NO HESITATION.**

**Wire `App.tsx` to the new `layouts/RootViewport` and delete the old one.**
This is the correct, future-proof fix. Option B just keeps technical debt alive.

---

## üîß EXACT STEPS (COPY ‚Üí PASTE ‚Üí DONE)

### 1Ô∏è‚É£ Update `App.tsx`

Open `client/src/App.tsx` and **change the import**:

```ts
// ‚ùå REMOVE this
import RootViewport from "./components/RootViewport";

// ‚úÖ ADD this
import { RootViewport } from "./layouts/RootViewport";
```

Make sure usage stays the same:

```tsx
<RootViewport>
  <AppRouter />
</RootViewport>
```

---

### 2Ô∏è‚É£ DELETE the old RootViewport

Delete this file **entirely**:

```
client/src/components/RootViewport.tsx
```

This file is the **culprit**. It has `overflow-y: auto`, which tells iOS:

> ‚ÄúSure, move the whole screen.‚Äù

That ends now.

---

### 3Ô∏è‚É£ Confirm the new RootViewport is a hard shell

Your **ONLY** RootViewport should:

* be `fixed`
* be `100dvh`
* be `overflow: hidden`
* apply safe-area **once**

‚úÖ Correct example (what you already built):

```tsx
export function RootViewport({ children }) {
  return (
    <div
      className="fixed inset-0 h-[100dvh] w-full overflow-hidden"
      style={{ paddingTop: "env(safe-area-inset-top)" }}
    >
      {children}
    </div>
  );
}
```

---

### 4Ô∏è‚É£ Pages control scrolling (not the viewport)

Every page layout must look like this:

```tsx
<div className="h-full flex flex-col">
  <Header className="sticky top-0 z-50" />

  <div className="flex-1 overflow-y-auto ios-scroll">
    {content}
  </div>
</div>
```

**Never** put headers inside the scroll container unless they are `sticky`.

---

### 5Ô∏è‚É£ Commit + Promote (Golden Path)

From **DEV (Replit)**:

```bash
git add -A
git commit -m "Fix iOS viewport scroll by wiring RootViewport shell"
git push origin main
```

Then promote **main ‚Üí staging ‚Üí production** exactly like before.

---

### 6Ô∏è‚É£ Force iOS to refresh

On your phone:

1. Delete the app
2. Open TestFlight
3. Pull down to refresh
4. Reinstall

---

## üéØ What Will Change (Immediately)

* Pages with no content **will not move**
* Banner will **never drift**
* Safe area will **stay pinned**
* Overscroll bounce will be gone or minimal (content only)
* The app will finally feel **native**

---

## The One-Line Truth

**You fixed the layout ‚Äî you just weren‚Äôt using it.**
Now you are.

Do Option A, delete the old file, ship it.
This ends the iOS wobble chapter for good.
