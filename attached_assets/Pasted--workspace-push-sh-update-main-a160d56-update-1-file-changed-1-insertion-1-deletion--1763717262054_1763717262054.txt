~/workspace$ ./push.sh "update"
[main a160d56] update
 1 file changed, 1 insertion(+), 1 deletion(-)
[main a160d56] update
 1 file changed, 1 insertion(+), 1 deletion(-)
Attempting push to GitHub...
âœ… Pushed successfully!
~/workspace$ cat PUBLISHING-WORKFLOW.md
# Safe Publishing Workflow for App Store

## ðŸŽ¯ THE GOLDEN RULE
**NEVER publish without running the pre-publish check first.**

---

## âœ… EVERY TIME Before Publishing

### Step 1: Run Pre-Publish Check
```bash
./scripts/pre-publish-check.sh
```

This will:
- âœ… Check for uncommitted changes
- âœ… Run TypeScript compilation
- âœ… Verify critical files
- âœ… Check if server is running

**If ANY check fails, DO NOT PUBLISH. Fix the issues first.**

---

### Step 2: Only After ALL Checks Pass
```bash
./push.sh "describe what you changed"
```

---

## ðŸ”’ Monitoring Critical Files

### After Making Intentional Changes
Freeze the current state:
```bash
./scripts/freeze-critical-files.sh
```

### Before Publishing Again
Verify nothing unexpected changed:
```bash
./scripts/verify-critical-files.sh
```

If this shows changes you didn't make, **STOP and investigate before publishing.**

---

## ðŸš¨ What To Do If Unexpected Changes Appear

1. **DON'T PANIC** - but also **DON'T PUBLISH**
2. Run `git diff` to see exactly what changed
3. If you didn't make those changes, investigate:
   - Check if any background processes are running
   - Check recent file modification times
   - Review what you were doing when files changed
4. Once you understand why, either:
   - Revert the unwanted changes: `git checkout -- <filename>`
   - Or accept them if they're valid

---

## ðŸ“‹ Critical Files Being Monitored

These files should ONLY change when you explicitly edit them:
- `client/src/components/modals/AIMealCreatorModal.tsx`
- `client/src/components/PreparationModal.tsx`
- `client/src/pages/WeeklyMealBoard.tsx`
- `client/src/pages/BeachBodyMealBoard.tsx`
- `client/src/pages/pro/AthleteBoard.tsx`
- `client/src/pages/Planner.tsx`
- `server/routes/manualMacros.ts`

---

## ðŸŽ¯ Quick Reference

```bash
# Daily workflow:
./scripts/verify-critical-files.sh    # Check for unexpected changes
./scripts/pre-publish-check.sh        # Validate before publishing
./push.sh "your change description"   # Publish only if checks pass

# After making important changes:
./scripts/freeze-critical-files.sh    # Update checksums baseline
```

---

## ðŸ’¡ Pro Tips

1. **Always verify before publishing** - takes 10 seconds, saves hours of debugging
2. **Keep commits focused** - one feature/fix per commit
3. **Read the git diff** - review every line before publishing
4. **Test the feature you changed** - don't trust code until you see it work
5. **When in doubt, DON'T publish** - investigate first

---

## ðŸ†˜ Emergency: Published Bad Code?

If you accidentally published broken code:
1. Don't make more changes yet
2. Contact support for rollback assistance
3. Review what went wrong
4. Update your pre-publish checklist to catch it next time
~/workspace$ 