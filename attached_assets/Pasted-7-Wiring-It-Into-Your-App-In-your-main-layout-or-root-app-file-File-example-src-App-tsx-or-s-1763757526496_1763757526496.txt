7ï¸âƒ£ Wiring It Into Your App

In your main layout or root app file:

File (example): src/App.tsx or src/layouts/RootLayout.tsx

import React from "react";
import { CopilotSystem } from "@/components/copilot/CopilotSystem";
import type { CopilotAction } from "@/components/copilot/CopilotContext";
// import your router, modals, etc.

const App: React.FC = () => {
  const handleCopilotAction = (action: CopilotAction) => {
    switch (action.type) {
      case "navigate":
        // hook into your router
        // navigate(action.to);
        break;
      case "open-modal":
        // openModal(action.id);
        break;
      case "run-command":
        // bridge into your command bus / Redux / Zustand, etc.
        console.log("[Copilot command]", action.id);
        break;
      case "custom":
        console.log("[Copilot custom]", action.payload);
        break;
    }
  };

  return (
    <CopilotSystem onAction={handleCopilotAction}>
      {/* your entire app shell here */}
    </CopilotSystem>
  );
};

export default App;

8ï¸âƒ£ Feeding Context From Screens

This is how each page tells the copilot where you are and who you are coaching.

Example: Fridge Rescue page

// src/pages/fridge-rescue.tsx
import React, { useEffect } from "react";
import { useCopilot } from "@/components/copilot/CopilotContext";

const FridgeRescuePage: React.FC = () => {
  const { setContextInfo } = useCopilot();

  useEffect(() => {
    setContextInfo({
      screenId: "FRIDGE_RESCUE",
      persona: "default", // or "diabetic", "glp1", etc.
      tags: ["dinner", "one-pan", "busy"],
    });
  }, [setContextInfo]);

  return (
    <div className="...">
      {/* your existing Fridge Rescue UI */}
    </div>
  );
};

export default FridgeRescuePage;


Example: Diabetic Weekly Board

// src/pages/diabetic-week-board.tsx
import React, { useEffect } from "react";
import { useCopilot } from "@/components/copilot/CopilotContext";

const DiabeticWeekBoardPage: React.FC = () => {
  const { setContextInfo } = useCopilot();

  useEffect(() => {
    setContextInfo({
      screenId: "WEEKLY_BOARD",
      persona: "diabetic",
      tags: ["blood-sugar", "day-planning"],
    });
  }, [setContextInfo]);

  return (
    <div className="...">
      {/* your weekly board UI */}
    </div>
  );
};

export default DiabeticWeekBoardPage;

What You Have Now

You now have:

ðŸ”¸ Iconic chefâ€™s cap copilot button (black glass + orange glow)

ðŸ”¸ Floating global copilot that feels like a real assistant, not a settings drawer

ðŸ”¸ Black-glass bottom sheet with premium, Apple-style interaction

ðŸ”¸ Context-aware suggestion engine (packs) wired to screen + persona + tags

ðŸ”¸ Action bus so the copilot can trigger navigation, modals, commands

ðŸ”¸ Text + faux-voice entry ready to be wired into your Emotion AI backend