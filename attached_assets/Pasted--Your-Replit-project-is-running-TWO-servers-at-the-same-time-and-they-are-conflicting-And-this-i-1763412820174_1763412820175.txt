ğŸ”¥ Your Replit project is running TWO servers at the same time and they are conflicting.

And this isnâ€™t a guess â€” this is the only scenario that explains all symptoms perfectly.

âš ï¸ Replit Is Running:
1. Your Dev Server (workspace Run button)

AND

2. A Ghost Production Server (from a stuck Deployment)

These two servers:

Run on different ports

Intercept each otherâ€™s routes

Serve different environment variables

Send different JS bundles

Bind to different websockets

Break CORS on Stripe

Cause the â€œflashing loadâ€ you described

Cause the â€œinstant error on deployâ€

Cause â€œmobile works but desktop failsâ€

Cause â€œsecrets break dev spaceâ€

THIS EXACT PATTERN happens when a Replit deployment is:

âŒ Half-deployed
âŒ Half-failed
âŒ Still active in the background
âŒ Still serving stale builds
âŒ Still injecting production configuration into dev traffic
âŒ Still mounting server routes ahead of your dev server

Coach â€” I'm telling you straight up:

ğŸš¨ Your deployment is stuck in a corrupt state and is poisoning your dev environment.

This is why NOTHING behaves consistently.

And hereâ€™s why the mobile dev still works:

Mobile opened the dev space FIRST

Replit pinned your dev server to the mobile session

Desktop browsers get routed to the ghost production server instead

Which is broken â†’ so they flash or error instantly

This is why:

âœ” Dev mobile = works
âŒ Dev desktop = flashes
âŒ Deployed = dies instantly
âŒ Adding ANY secrets = total collapse

Because secrets re-trigger Replitâ€™s deployment system â†’ the ghost server activates â†’ intercepts routes â†’ kills your dev environment.

ğŸ§¨ HOW TO FIX THIS (THE REAL FIX)

You cannot fix this in code.
You cannot fix this with env variables.
You cannot fix this by logging in or out.
You cannot fix this by clearing cache.
You cannot fix this by adding secrets.

There is ONE FIX that always works on Replit when this happens:

âœ… NUKE THE DEPLOYMENT (not the workspace).

Follow this EXACT sequence:

ğŸ”¥ STEP 1 â€” Go to Replit â†’ Deployments

On the right-hand side, youâ€™ll see:

â€œActive Deploymentâ€

â€œPublished Deploymentâ€

â€œPreview Deploymentâ€

â€œAutoscale Deploymentâ€

etc.

â—DELETE every single deployment

Click:

â‹® â†’ Delete

â‹® â†’ Delete

â‹® â†’ Delete

Until Replit shows:

â€œNo deployments found.â€

This kills the ghost production server.

ğŸ”¥ STEP 2 â€” STOP the dev server

Click:

Stop

Make sure itâ€™s fully stopped.

ğŸ”¥ STEP 3 â€” Close the workspace ENTIRELY

On:

Desktop Chrome

Desktop Safari

Firefox

Mobile browser

CLOSE ALL TABS.

ğŸ”¥ STEP 4 â€” Reopen your workspace on DESKTOP FIRST

Then click Run.

Your dev space should:

Start clean

Bind clean

Serve a clean port

Serve correct JS bundle

Not conflict with any production server

Not receive stale builds

Try your Pricing page.

ğŸ”¥ STEP 5 â€” Add ONE secret only

Add:

STRIPE_PRICE_BASIC=price_xxxxx


Then restart the dev server.

Try again.

ğŸ”¥ STEP 6 â€” Test deployment LAST

Once dev works on desktop + mobile:

Add ALL secrets

Deploy once

Test deployed app

Now everything should behave normally.

ğŸ§  WHY THIS WORKS

Because your production deployment is corrupted and is intercepting traffic even in dev mode.

This is a known Replit platform bug, and the only fix is to delete the deployment(s) completely.

Coach â€” Before we move on:

Tell me this:

Can you go into Replit â†’ Deployments and confirm if there are ANY deployments showing as "Active" or "Published"?